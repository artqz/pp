{"version":3,"sources":["context/AudioContext.js","TracksReducer.js","callback/Yandex.js","callback/Dropbox.js","components/trackList/TrackList.js","components/audio/Controls.js","components/audio/ProgressBar.js","components/audio/Audio.js","Providers.js","pages/Home.js","components/ToggleTheme.js","components/NavBar.js","App.js","serviceWorker.js","index.js"],"names":["AudioContext","createContext","player","loading","canplay","path","items","TracksReducer","state","action","type","Object","objectSpread","list","link","playing","currentTrack","length","trackId","theme","Yandex","this","props","location","hash","accessToken","exec","tokenType","expiresIn","localStorage","setItem","window","react_default","a","createElement","Redirect","to","Component","Dropbox","TrackList","_useContext","useContext","dispatch","refList","useRef","useEffect","current","scrollToRow","className","es","ref","width","height","rowCount","rowHeight","rowRenderer","_ref","key","index","style","isScrolling","isVisible","onDoubleClick","handleClick","name","Controls","onPrev","onNext","onPlay","_this$props","isPlaying","onClick","bind","formatTime","s","hours","Math","floor","minutes","seconds","format2Number","num","str","ProgressBar","React","forwardRef","onMouseDown","e","changeProgress","buffered","progress","currentTime","duration","Audio","_useState9","useState","_useState10","slicedToArray","progressMode","setProgressMode","audio","progressBar","_useLoadedMetadata","_useState","_useState2","setDuration","loadedMetadata","addEventListener","removeEventListener","useLoadedMetadata","_useUpdateProgress","togglePlay","_useState3","_useState4","setCurrentTime","_useState5","_useState6","setProgress","_useState7","_useState8","buffer","setBuffer","updateProgress","i","start","end","useUpdateProgress","pause","changePositionX","clientX","clientWidth","usePositionCursor","stopSetProgress","useMouseUp","config","headers","Authorization","getItem","Accept","data","axios","post","get_track","track","then","res","play","audio_ProgressBar","audio_Controls","src","autoPlay","onEnded","Home","console","log","itemsList","query","max_results","mode","search_mp3","matches","map","item","metadata","push","path_display","provider","trackList_TrackList","audio_Audio","ToggleTheme","document","body","classList","add","remove","NavBar","db_token","href","concat","components_ToggleTheme","App","_useReducer","useReducer","_useReducer2","BrowserRouter","Provider","value","components_NavBar","Route","exact","component","Boolean","hostname","match","ReactDOM","render","src_App","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.9d44743b.chunk.js","sourcesContent":["import { createContext } from 'react';\r\n\r\nexport const AudioContext = createContext({\r\n  player: {\r\n    loading: true,\r\n    canplay: false,\r\n    path: null\r\n  },\r\n  items: []\r\n});","const SET_LIST = 'SET_LIST';\r\nconst NEXT_TRACK = 'NEXT_TRACK';\r\nconst PREV_TRACK = 'PREV_TRACK';\r\nconst GET_TRACK = 'GET_TRACK';\r\nconst PLAY_TRACK = 'PLAY_TRACK';\r\nconst SELECT_TRACK = 'SELECT_TRACK';\r\nconst SWITCH_THEME = 'SWITCH_THEME';\r\n\r\nexport default (state, action) => {\r\n  switch (action.type) {\r\n    case SET_LIST: {\r\n      return {               \r\n        ...state,\r\n        list: action.list\r\n      };\r\n    }\r\n    case GET_TRACK: {\r\n      return {\r\n        ...state,\r\n        link: action.link\r\n      };\r\n    }\r\n    case PLAY_TRACK: {\r\n      return {\r\n        ...state,\r\n        playing: action.playing\r\n      };\r\n    }\r\n    case NEXT_TRACK: {\r\n      let currentTrack;      \r\n      if (state.list.length > state.currentTrack + 1) {\r\n        currentTrack = state.currentTrack + 1;\r\n      }\r\n      else {\r\n        currentTrack = 0;\r\n      }\r\n      \r\n      return {\r\n        ...state,\r\n        currentTrack: currentTrack\r\n      };      \r\n    }\r\n    case PREV_TRACK: {\r\n      let currentTrack;            \r\n      if (0 > state.currentTrack - 1) {\r\n        currentTrack = state.list.length - 1;\r\n      }\r\n      else {\r\n        currentTrack = state.currentTrack - 1;\r\n      }\r\n      \r\n      return {\r\n        ...state,\r\n        currentTrack: currentTrack\r\n      };      \r\n    }\r\n    case SELECT_TRACK: {\r\n      return {\r\n        ...state,\r\n        currentTrack: action.trackId\r\n      };      \r\n    }\r\n    case SWITCH_THEME: {\r\n      return {\r\n        ...state,\r\n        theme: action.theme\r\n      }; \r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n}","import React, { Component } from 'react';\r\nimport { Redirect } from \"react-router-dom\";\r\n\r\nclass Yandex extends Component { \r\n  componentDidMount () {\r\n    if (this.props.location.hash !== '') {\r\n      const accessToken = /access_token=([^&]+)/.exec(this.props.location.hash)[1];\r\n      const tokenType = /token_type=([^&]+)/.exec(this.props.location.hash)[1];\r\n      const expiresIn = /expires_in=([^&]+)/.exec(this.props.location.hash)[1];\r\n    \r\n      localStorage.setItem('yd_access_token', accessToken);\r\n      localStorage.setItem('yd_token_type', tokenType);\r\n      localStorage.setItem('yd_expires_in', expiresIn);     \r\n      window.location.hash = '';\r\n    }\r\n  }  \r\n  \r\n  render() {\r\n    return <Redirect to='/'/>;\r\n  };\r\n}\r\n\r\nexport default Yandex;","import React, { Component } from 'react';\r\nimport { Redirect } from \"react-router-dom\";\r\n\r\nclass Dropbox extends Component { \r\n  componentDidMount () {\r\n    if (this.props.location.hash !== '') {\r\n      const accessToken = /access_token=([^&]+)/.exec(this.props.location.hash)[1];\r\n      const tokenType = /token_type=([^&]+)/.exec(this.props.location.hash)[1];\r\n    \r\n      localStorage.setItem('db_access_token', accessToken);\r\n      localStorage.setItem('db_token_type', tokenType);  \r\n      window.location.hash = '';\r\n    }\r\n  }  \r\n  \r\n  render() {\r\n    return <Redirect to='/'/>;\r\n  };\r\n}\r\n\r\nexport default Dropbox;","import React, { useContext, useRef, useEffect } from 'react';\r\nimport { List } from 'react-virtualized'\r\nimport { AudioContext } from '../../context/AudioContext';\r\nimport 'react-virtualized/styles.css';\r\nimport './TrackList.css';\r\n\r\nfunction TrackList(props) {  \r\n  const { list } = props;\r\n  const { state, dispatch } = useContext(AudioContext);\r\n  const refList = useRef();\r\n\r\n  useEffect(() => {\r\n    refList.current.scrollToRow(state.currentTrack);\r\n  }, [state.currentTrack]);\r\n\r\n  function handleClick(index) {\r\n    dispatch({\r\n      type: 'SELECT_TRACK',\r\n      trackId: index\r\n    });\r\n  }\r\n\r\n  function rowRenderer ({\r\n    key,         // Unique key within array of rows\r\n    index,       // Index of row within collection\r\n    isScrolling, // The List is currently being scrolled\r\n    isVisible,   // This row is visible within the List (eg it is not an overscanned row)\r\n    style        // Style object to be applied to row (to position it)\r\n  }) {\r\n    return (\r\n      <div\r\n        key={key}\r\n        style={style}\r\n        className={state.currentTrack === index ? 'track current_track' : 'track'}\r\n        onDoubleClick={() => handleClick(index)}\r\n      >\r\n        {list[index].name}\r\n      </div>\r\n    )\r\n  }\r\n  \r\n  return (\r\n    <div className=\"track_list\">\r\n      <List\r\n        ref={refList}\r\n        width={400}\r\n        height={400}\r\n        rowCount={list.length}\r\n        rowHeight={35}\r\n        rowRenderer={rowRenderer}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction Track(props) {\r\n  const { track, index } = props;\r\n  const { state, dispatch } = useContext(AudioContext);\r\n  \r\n  function handleClick() {\r\n    dispatch({\r\n      type: 'SELECT_TRACK',\r\n      trackId: index\r\n    });\r\n  }\r\n  \r\n  return (\r\n    <div className=\"track\" onDoubleClick={handleClick}>\r\n      {index !== state.currentTrack ? <i className=\"far fa-circle\"></i> : <i className=\"far fa-play-circle\"></i>} \r\n      <span className=\"track_name\">{track.name}</span>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default TrackList;","import React, { Component } from 'react';\r\n\r\nclass Controls extends Component { \r\n  onPrev () {\r\n    this.props.onPrev();\r\n  }\r\n  onNext () {\r\n    this.props.onNext();\r\n  }\r\n  onPlay () {\r\n    this.props.onPlay();\r\n  }\r\n  render () {  \r\n    const { isPlaying, loading } = this.props;  \r\n    return (\r\n      <div className=\"controls\">\r\n        <span className={loading ? 'controls_btn loading' : 'controls_btn'} onClick={this.onPrev.bind(this)}><i className=\"fas fa-fast-backward\"></i></span>\r\n        <span className={loading ? 'controls_btn loading' : 'controls_btn'} onClick={this.onPlay.bind(this)}>{isPlaying ? <i className=\"fas fa-pause\"></i> : <i className=\"fas fa-play\"></i>}</span>          \r\n        <span className={loading ? 'controls_btn loading' : 'controls_btn'} onClick={this.onNext.bind(this)}><i className=\"fas fa-fast-forward\"></i></span>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Controls;","import React from 'react';\r\n\r\nconst ProgressBar = React.forwardRef((props, ref) => {  \r\n  \r\n  return (\r\n    <div \r\n      ref={ref}\r\n      className=\"progress\" \r\n      onMouseDown={e => props.changeProgress(e)}\r\n    >\r\n      <div className=\"progress_bg\"></div>\r\n      <div className=\"progress_bar progress_buffered\">\r\n        <div className=\"progress_line\" style={{ width: props.buffered + '%' }}></div>\r\n      </div>\r\n      <div className=\"progress_bar progress_reproduced\">\r\n        <div className=\"progress_line\" style={{ width: props.progress + '%' }}></div>\r\n      </div>\r\n      <div className=\"progress_bar progress_text\">\r\n        <div className=\"progress_left\">{props.currentTime ? formatTime(props.currentTime) : null}</div>\r\n        <div className=\"progress_right\">{props.duration ? formatTime(props.duration) : null}</div>\r\n      </div>\r\n  </div>\r\n  );  \r\n});\r\n\r\nfunction formatTime(s) {    \r\n  const hours   = Math.floor(s / 3600);\r\n  const minutes = Math.floor(s / 60) - hours * 60\r\n  const seconds = Math.floor(s) - minutes * 60 - hours * 3600;\r\n\r\n  if (hours) {\r\n    return hours + ':' + format2Number(minutes) + ':' + format2Number(seconds)\r\n  }\r\n  return minutes + ':' + format2Number(seconds)\r\n}\r\n\r\nfunction format2Number(num) {\r\n  const str = num + '';\r\n  if (str.length === 1) {\r\n    return '0' + str;\r\n  }\r\n  if (str.length === 0) {\r\n    return '00';\r\n  }\r\n  return str;\r\n}\r\n\r\nexport default ProgressBar;","import React, { useContext, useEffect, useRef, useState } from 'react';\r\nimport { AudioContext } from '../../context/AudioContext';\r\nimport { get_track} from '../../Providers';\r\nimport Controls from './Controls';\r\nimport ProgressBar from './ProgressBar';\r\n\r\nimport './Player.css';\r\n\r\nconst useLoadedMetadata = (audio) => {\r\n  const [duration, setDuration] = useState(0);\r\n\r\n  const loadedMetadata = () => {\r\n    setDuration(audio.current.duration);\r\n  };\r\n\r\n  useEffect(() => {  \r\n    audio.current.addEventListener('loadedmetadata', loadedMetadata);\r\n    return () => {\r\n      audio.current.removeEventListener('loadedmetadata', loadedMetadata);\r\n    };\r\n  }, [loadedMetadata]);\r\n\r\n  return { duration, setDuration };\r\n}\r\n\r\nconst usePositionCursor = (progressMode, progressBar, setProgress) => {\r\n  const changePositionX = (e) => {  \r\n    if (progressMode) {    \r\n      let progress;\r\n      if (e.clientX > progressBar.current.clientWidth) {\r\n        progress = 100;\r\n      }  \r\n      else if (e.clientX < 0) {\r\n        progress = 0;\r\n      }\r\n      else {\r\n        progress = e.clientX / progressBar.current.clientWidth * 100;\r\n      }\r\n      \r\n      setProgress(progress); \r\n    } \r\n  }\r\n\r\n  useEffect(() => {\r\n    window.addEventListener('mousemove', changePositionX);\r\n    return () => {\r\n      window.removeEventListener('mousemove', changePositionX);\r\n    }\r\n  }, [progressMode, changePositionX]);\r\n}\r\n\r\nconst useMouseUp = (audio, progress, duration, progressMode, setProgressMode) => {\r\n  const stopSetProgress = () => {\r\n    if (progressMode) {\r\n      setProgressMode(false);\r\n      audio.current.currentTime = progress / 100 * duration;      \r\n    }\r\n  }\r\n  useEffect(() => {\r\n    window.addEventListener('mouseup', stopSetProgress);\r\n    return () => {\r\n      window.removeEventListener('mouseup', stopSetProgress);\r\n    }\r\n  }, [progress, progressMode, stopSetProgress]);\r\n}\r\n\r\nconst useUpdateProgress = (audio, togglePlay, progressMode) => {\r\n  const [currentTime, setCurrentTime] = useState(0);\r\n  const [progress, setProgress] = useState(0);\r\n  const [buffer, setBuffer] = useState(0);\r\n  \r\n  const updateProgress = () => {\r\n    if (audio.current.duration > 0) {\r\n      setCurrentTime(audio.current.currentTime);\r\n      if(!progressMode) {\r\n        setProgress(audio.current.currentTime / audio.current.duration * 100);\r\n      }\r\n      for (var i = 0; i < audio.current.buffered.length; i++) {\r\n        if (audio.current.buffered.start(audio.current.buffered.length - 1 - i) < audio.current.currentTime) {\r\n          setBuffer(audio.current.buffered.end(audio.current.buffered.length - 1 - i) / audio.current.duration * 100); \r\n          break;            \r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n  useEffect(() => {    \r\n    audio.current.addEventListener('timeupdate', updateProgress);\r\n    return () => {\r\n      audio.current.removeEventListener('timeupdate', updateProgress);\r\n    };\r\n  }, [togglePlay, updateProgress, progressMode]);\r\n\r\n  return { currentTime, progress, buffer, setCurrentTime, setProgress, setBuffer };\r\n}\r\n\r\nconst Audio = (props) => {    \r\n  const {state, dispatch} = useContext(AudioContext);\r\n  const [progressMode, setProgressMode] = useState(false);\r\n\r\n  const audio = useRef();\r\n  const progressBar = useRef(); \r\n\r\n  const { \r\n    duration, \r\n    setDuration \r\n  } = useLoadedMetadata(audio);\r\n\r\n  const { \r\n    currentTime, \r\n    progress, \r\n    buffer, \r\n    setCurrentTime, \r\n    setProgress, \r\n    setBuffer \r\n  } = useUpdateProgress(audio, togglePlay, progressMode);\r\n\r\n  usePositionCursor(progressMode, progressBar, setProgress);\r\n\r\n  useMouseUp(audio, progress, duration, progressMode, setProgressMode);\r\n  \r\n  useEffect(() => {\r\n    get_track(props.track).then(res => {      \r\n      dispatch({\r\n        type: 'GET_TRACK',\r\n        link: res.data.link\r\n      })\r\n    });        \r\n  }, [props.track]);\r\n\r\n  useEffect(() => {\r\n    if (state.playing) {  \r\n      audio.current.play();\r\n    }\r\n    else {\r\n      audio.current.pause();\r\n    }\r\n  }, [state.playing]);\r\n  \r\n  function togglePlay() {    \r\n    dispatch({\r\n      type: 'PLAY_TRACK',\r\n      playing: !state.playing\r\n    })\r\n  }\r\n\r\n  function onNext() {\r\n    audio.current.pause();\r\n    dispatch({\r\n      type: 'NEXT_TRACK'\r\n    });\r\n  }\r\n\r\n  function onPrev() {\r\n    audio.current.pause();\r\n    dispatch({\r\n      type: 'PREV_TRACK'\r\n    });\r\n  }\r\n\r\n  function changeProgress(e) {\r\n    setProgress(e.clientX / progressBar.current.clientWidth * 100);\r\n    setProgressMode(true);    \r\n  }\r\n\r\n  return (\r\n    <div className=\"player\">\r\n      <ProgressBar \r\n        ref={progressBar}\r\n        progress={progress} \r\n        buffered={buffer} \r\n        currentTime={currentTime}\r\n        duration={duration}\r\n        changeProgress={changeProgress}\r\n      />\r\n      <Controls\r\n        isPlaying={state.playing}\r\n        loading={true}\r\n        onPrev={onPrev}\r\n        onNext={onNext}\r\n        onPlay={togglePlay}\r\n      />\r\n      <audio \r\n        ref={audio} \r\n        src={state.link}  \r\n        autoPlay={state.playing}\r\n        onEnded={onNext}\r\n      >\r\n      </audio>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Audio;","import axios from 'axios';\r\n\r\nexport function yd_connect(token) {  \r\n  const config = {\r\n    headers: {\r\n      Authorization: token,\r\n      Accept: 'application/json',\r\n    },\r\n  };  \r\n  return axios.get('https://cloud-api.yandex.net/v1/disk/resources/files?media_type=audio', config);\r\n}\r\n\r\nexport function db_connect(token) {  \r\n  const config = {\r\n    headers: {\r\n      Authorization: 'Bearer ' + token,\r\n      Accept: 'application/json',\r\n    },\r\n  };\r\n  const data = {\r\n    \"path\": \"\"\r\n  }\r\n  return axios.post('https://api.dropboxapi.com/2/files/list_folder', data, config);\r\n}\r\n\r\nexport function get_track(path) {  \r\n  const config = {\r\n    headers: {\r\n      Authorization: 'Bearer ' + localStorage.getItem('db_access_token'),\r\n      Accept: 'application/json',\r\n    },\r\n  };\r\n  const data = {\r\n    \"path\": path\r\n  }\r\n  return axios.post('https://api.dropboxapi.com/2/files/get_temporary_link', data, config);\r\n}\r\n\r\nexport function search_mp3(path) {  \r\n  const config = {\r\n    headers: {\r\n      Authorization: 'Bearer ' + localStorage.getItem('db_access_token'),\r\n      Accept: 'application/json',\r\n    },\r\n  };\r\n  const data = {\r\n    'path': '',\r\n    'query': '*.mp3',\r\n    'start': 0,\r\n    'max_results': 1000,\r\n    'mode': 'filename'\r\n}\r\n  return axios.post('https://api.dropboxapi.com/2/files/search', data, config);\r\n}","import React, { useContext, useEffect } from 'react';\r\nimport { search_mp3 } from '../Providers';\r\nimport { AudioContext } from '../context/AudioContext';\r\nimport TrackList from '../components/trackList/TrackList';\r\nimport Audio from '../components/audio/Audio';\r\n\r\nfunction Home () { \r\n  const {state, dispatch} = useContext(AudioContext);\r\n\r\n  useEffect(() => {\r\n    console.log('Player status:');\r\n    if (localStorage.getItem('db_access_token')) {\r\n      console.log('- Dropbox token found!');\r\n      const itemsList = [];\r\n      console.log('- Start searching for tracks...');      \r\n      search_mp3(localStorage.getItem('db_access_token')).then(res => {\r\n        res.data.matches.map(item => {      \r\n          if (item.metadata['.tag'] === 'file') {   \r\n            itemsList.push({\r\n              name: item.metadata.name, \r\n              path: item.metadata.path_display, \r\n              provider: 'dropbox',\r\n              playing: false\r\n            });           \r\n          }\r\n          return itemsList;\r\n        });   \r\n        console.log('- Found ' + itemsList.length + ' tracks!'); \r\n        dispatch({\r\n          type: 'SET_LIST',\r\n          list: itemsList\r\n        });      \r\n      });\r\n    }\r\n  }, []);   \r\n  \r\n  return state.list[state.currentTrack] ? (\r\n    <div>\r\n      <TrackList list={state.list} />      \r\n      <Audio track={state.list[state.currentTrack].path} />\r\n    </div>\r\n  ) : null;\r\n  \r\n}\r\n\r\nexport default Home;","import React, { useEffect, useContext } from 'react';\r\nimport { AudioContext } from '../context/AudioContext';\r\n\r\nfunction ToggleTheme(props) {\r\n  const {state, dispatch} = useContext(AudioContext);\r\n\r\n  useEffect(() => {\r\n    if (!localStorage.getItem('theme')) {\r\n      localStorage.setItem('theme', 'day');\r\n    }\r\n    if (localStorage.getItem('theme') === 'night') {\r\n      document.body.classList.add('night');\r\n    }\r\n  });\r\n\r\n  useEffect(() => {\r\n    dispatch({\r\n      type: 'SWITCH_THEME',\r\n      theme: localStorage.getItem('theme')\r\n    });   \r\n  }, [dispatch]);  \r\n  \r\n  function toggle() {\r\n    if (localStorage.getItem('theme') === 'day') {\r\n      localStorage.setItem('theme', 'night');\r\n      document.body.classList.add('night');\r\n      dispatch({\r\n        type: 'SWITCH_THEME',\r\n        theme: 'night'\r\n      });\r\n    }\r\n    else {\r\n      localStorage.setItem('theme', 'day');\r\n      document.body.classList.remove('night');\r\n      dispatch({\r\n        type: 'SWITCH_THEME',\r\n        theme: 'day'\r\n      });\r\n    }    \r\n  }  \r\n\r\n  return (\r\n    <div className=\"switchTheme\" onClick={toggle}>\r\n      {state.theme === 'day' ? <i className=\"far fa-sun\"></i> : <i className=\"far fa-moon\"></i>}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ToggleTheme;","import React from 'react';\r\nimport ToggleTheme from './ToggleTheme';\r\n\r\nimport './NavBar.css';\r\n\r\nfunction NavBar() {\r\n  const ydClientId = '7f12f06a9a954a5d8d16c1d99cae62fa';\r\n  const ydRedirectUri = 'http://134.0.116.172/yandex/callback';\r\n  const dbRedirectUri = 'http://134.0.116.172/dropbox/callback';\r\n\r\n  const yd_token = localStorage.getItem('yd_access_token');\r\n  const db_token = localStorage.getItem('db_access_token');\r\n  return (\r\n    <div className=\"navbar\">\r\n      <div className=\"logo\">\r\n        <span className=\"first_letter\">D</span>rop\r\n        <span className=\"first_letter\">P</span>rop\r\n        <span className=\"first_letter\">P</span>lay\r\n      </div>\r\n      {/*!yd_token ? <a href={`https://oauth.yandex.ru/authorize?response_type=token&client_id=${ydClientId}&redirect_uri=${ydRedirectUri}`}>Яндекс</a> : null*/}\r\n      {!db_token ? (\r\n        <a\r\n          href={`https://www.dropbox.com/oauth2/authorize?client_id=3sf5dug4qbt4hbf&response_type=token&redirect_uri=${dbRedirectUri}`}\r\n        >\r\n          Дропбокс\r\n        </a>\r\n      ) : null}\r\n      <ToggleTheme />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default NavBar;\r\n","import React, { useReducer } from 'react';\r\nimport { BrowserRouter as Router, Route } from 'react-router-dom';\r\n//import { yd_connect, db_connect, get_preview, search_mp3 } from './Providers';\r\nimport { AudioContext } from './context/AudioContext';\r\nimport TracksReducer from './TracksReducer';\r\n\r\nimport Yandex from './callback/Yandex';\r\nimport Dropbox from './callback/Dropbox';\r\nimport Home from './pages/Home';\r\nimport NavBar from './components/NavBar';\r\nimport './App.css';\r\n\r\nfunction App() {  \r\n  const initialState = {\r\n    theme: 'day',\r\n    currentTrack: 0,\r\n    link: null,\r\n    loading: true,\r\n    playing: false,\r\n    list: []\r\n  }   \r\n  const [state, dispatch] = useReducer(TracksReducer, initialState);\r\n  \r\n  return (\r\n    <Router>      \r\n      <AudioContext.Provider value={{state, dispatch}}>\r\n        <div className=\"app\">        \r\n          <NavBar />  \r\n          <Route exact path=\"/\" component={Home} />\r\n          <Route path=\"/yandex/callback\" component={Yandex} />\r\n          <Route path=\"/dropbox/callback\" component={Dropbox} />\r\n        </div>\r\n      </AudioContext.Provider>\r\n    </Router>\r\n  );  \r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}